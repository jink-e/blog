import{_ as e,r as p,o,c as l,a as n,b as s,d as t,e as c}from"./app-RnerZAOR.js";const r={},i=n("h1",{id:"play-with-react-query",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#play-with-react-query"},[n("span",null,"play with react-query")])],-1),u={href:"https://github.com/tannerlinsley/react-query",target:"_blank",rel:"noopener noreferrer"},k=c(`<h2 id="è§£å†³ä»€ä¹ˆé—®é¢˜" tabindex="-1"><a class="header-anchor" href="#è§£å†³ä»€ä¹ˆé—®é¢˜"><span>è§£å†³ä»€ä¹ˆé—®é¢˜</span></a></h2><ul><li>ç¼“å­˜è¯·æ±‚çš„æ•°æ®</li><li>å°†å¤šä¸ªé‡å¤è¯·æ±‚åˆå¹¶æˆä¸€ä¸ªï¼Œé¿å…å¤šä½™çš„ç½‘ç»œå¼€é”€</li><li>è‡ªåŠ¨æ›´æ–°è¿‡æœŸç¼“å­˜æ•°æ®</li><li>çŸ¥é“ä»€ä¹ˆæ—¶å€™ç¼“å­˜æ•°æ®è¿‡æœŸäº†</li><li>å¿«é€Ÿæ›´æ–°ç¼“å­˜æ•°æ®</li><li>ç®¡ç†æœåŠ¡ç«¯çŠ¶æ€çš„å†…å­˜/åƒåœ¾å›æ”¶</li><li>ç»“æ„åŒ–å­˜å‚¨è¯·æ±‚çš„æ•°æ®ï¼Œæ ¹æ® key-value å–å€¼</li></ul><h2 id="show-me-the-code" tabindex="-1"><a class="header-anchor" href="#show-me-the-code"><span>show me the code</span></a></h2><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span>QueryClient<span class="token punctuation">,</span> QueryClientProvider<span class="token punctuation">,</span> useQuery<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;react-query&#39;</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> queryClient <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">QueryClient</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token function">App</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>QueryClientProvider client<span class="token operator">=</span><span class="token punctuation">{</span>queryClient<span class="token punctuation">}</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>Example <span class="token operator">/</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>QueryClientProvider<span class="token operator">&gt;</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">Example</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span>isLoading<span class="token punctuation">,</span> error<span class="token punctuation">,</span> data<span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">useQuery</span><span class="token punctuation">(</span><span class="token string">&#39;repoData&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span>
    <span class="token function">fetch</span><span class="token punctuation">(</span><span class="token string">&#39;https://api.github.com/repos/tannerlinsley/react-query&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>
      <span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> res<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">)</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">if</span> <span class="token punctuation">(</span>isLoading<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token string">&#39;Loading...&#39;</span><span class="token punctuation">;</span>

  <span class="token keyword">if</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token string">&#39;An error has occurred: &#39;</span> <span class="token operator">+</span> error<span class="token punctuation">.</span>message<span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>h1<span class="token operator">&gt;</span><span class="token punctuation">{</span>data<span class="token punctuation">.</span>name<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>p<span class="token operator">&gt;</span><span class="token punctuation">{</span>data<span class="token punctuation">.</span>description<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>strong<span class="token operator">&gt;</span>ğŸ‘€ <span class="token punctuation">{</span>data<span class="token punctuation">.</span>subscribers_count<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>strong<span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token string">&#39; &#39;</span><span class="token punctuation">}</span>
      <span class="token operator">&lt;</span>strong<span class="token operator">&gt;</span>âœ¨ <span class="token punctuation">{</span>data<span class="token punctuation">.</span>stargazers_count<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>strong<span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token string">&#39; &#39;</span><span class="token punctuation">}</span>
      <span class="token operator">&lt;</span>strong<span class="token operator">&gt;</span>ğŸ´ <span class="token punctuation">{</span>data<span class="token punctuation">.</span>forks_count<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>strong<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="æœ‰è¶£çš„-devtool" tabindex="-1"><a class="header-anchor" href="#æœ‰è¶£çš„-devtool"><span>æœ‰è¶£çš„ devtool</span></a></h2><p>ä¼šåœ¨é¡µé¢ä¸Šæ·»åŠ ä¸€ä¸ªæµ®åŠ¨æŒ‰é’®ï¼Œç‚¹å‡»å¯ä»¥æŸ¥çœ‹ query çš„è®°å½•ï¼Œå¥½æ¯”ä¸€ä¸ªç®€åŒ–çš„ redux çš„ devtool</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span>ReactQueryDevtools<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;react-query/devtools&#39;</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">App</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>QueryClientProvider client<span class="token operator">=</span><span class="token punctuation">{</span>queryClient<span class="token punctuation">}</span><span class="token operator">&gt;</span>
      <span class="token punctuation">{</span><span class="token comment">/* The rest of your application */</span><span class="token punctuation">}</span>
      <span class="token operator">&lt;</span>ReactQueryDevtools initialIsOpen<span class="token operator">=</span><span class="token punctuation">{</span><span class="token boolean">false</span><span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>QueryClientProvider<span class="token operator">&gt;</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,7),d={href:"https://react-query.tanstack.com/overview",target:"_blank",rel:"noopener noreferrer"};function v(m,h){const a=p("ExternalLinkIcon");return o(),l("div",null,[i,n("p",null,[n("a",u,[s("react-query"),t(a)]),s(" æ˜¯ä¸€ä¸ªè½»é‡çº§çš„çŠ¶æ€ç®¡ç†å·¥å…·ï¼Œæ³¨é‡äºè§£å†³å¼‚æ­¥è¯·æ±‚æ•°æ®çš„ç¼“å­˜é—®é¢˜ï¼Œç›¸æ¯”äºä½¿ç”¨ redux æ¥ç®¡ç†è¯·æ±‚æ•°æ®çš„çŠ¶æ€/ç¼“å­˜ï¼Œreact-query æ›´åŠ è½»ä¾¿ç®€å•ï¼Œåªéœ€è¦ä½¿ç”¨ useQuery å°±å¯ä»¥è‡ªåŠ¨å®ç°æ•°æ®çš„ç¼“å­˜å’Œç®¡ç†, è¿˜å¯ä»¥ä½¿ç”¨ useIsFetching æ¥ç›‘å¬å…¨å±€åŠ è½½çŠ¶æ€")]),k,n("p",null,[n("a",d,[s("æ›´å¤šæ–‡æ¡£"),t(a)])])])}const b=e(r,[["render",v],["__file","2021-01-25-play-with-react-query.html.vue"]]),g=JSON.parse('{"path":"/posts/2021-01-25-play-with-react-query.html","title":"play with react-query","lang":"en-US","frontmatter":{"date":"2021-01-25T09:40:34.000Z","category":["dev"],"tag":["react"]},"headers":[{"level":2,"title":"è§£å†³ä»€ä¹ˆé—®é¢˜","slug":"è§£å†³ä»€ä¹ˆé—®é¢˜","link":"#è§£å†³ä»€ä¹ˆé—®é¢˜","children":[]},{"level":2,"title":"show me the code","slug":"show-me-the-code","link":"#show-me-the-code","children":[]},{"level":2,"title":"æœ‰è¶£çš„ devtool","slug":"æœ‰è¶£çš„-devtool","link":"#æœ‰è¶£çš„-devtool","children":[]}],"git":{"updatedTime":1709547738000,"contributors":[{"name":"jinke","email":"jinke.yu@outlook.com","commits":1}]},"filePathRelative":"posts/2021-01-25-play-with-react-query.md","excerpt":"\\n<p><a href=\\"https://github.com/tannerlinsley/react-query\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">react-query</a> æ˜¯ä¸€ä¸ªè½»é‡çº§çš„çŠ¶æ€ç®¡ç†å·¥å…·ï¼Œæ³¨é‡äºè§£å†³å¼‚æ­¥è¯·æ±‚æ•°æ®çš„ç¼“å­˜é—®é¢˜ï¼Œç›¸æ¯”äºä½¿ç”¨ redux æ¥ç®¡ç†è¯·æ±‚æ•°æ®çš„çŠ¶æ€/ç¼“å­˜ï¼Œreact-query æ›´åŠ è½»ä¾¿ç®€å•ï¼Œåªéœ€è¦ä½¿ç”¨ useQuery å°±å¯ä»¥è‡ªåŠ¨å®ç°æ•°æ®çš„ç¼“å­˜å’Œç®¡ç†, è¿˜å¯ä»¥ä½¿ç”¨ useIsFetching æ¥ç›‘å¬å…¨å±€åŠ è½½çŠ¶æ€</p>\\n<h2>è§£å†³ä»€ä¹ˆé—®é¢˜</h2>\\n<ul>\\n<li>ç¼“å­˜è¯·æ±‚çš„æ•°æ®</li>\\n<li>å°†å¤šä¸ªé‡å¤è¯·æ±‚åˆå¹¶æˆä¸€ä¸ªï¼Œé¿å…å¤šä½™çš„ç½‘ç»œå¼€é”€</li>\\n<li>è‡ªåŠ¨æ›´æ–°è¿‡æœŸç¼“å­˜æ•°æ®</li>\\n<li>çŸ¥é“ä»€ä¹ˆæ—¶å€™ç¼“å­˜æ•°æ®è¿‡æœŸäº†</li>\\n<li>å¿«é€Ÿæ›´æ–°ç¼“å­˜æ•°æ®</li>\\n<li>ç®¡ç†æœåŠ¡ç«¯çŠ¶æ€çš„å†…å­˜/åƒåœ¾å›æ”¶</li>\\n<li>ç»“æ„åŒ–å­˜å‚¨è¯·æ±‚çš„æ•°æ®ï¼Œæ ¹æ® key-value å–å€¼</li>\\n</ul>"}');export{b as comp,g as data};
